# 汇编快速入门
# 需求
对于内核代码的阅读,需要汇编语言基础
这里针对X86系列开始学习
# 前置知识
详见体系结构笔记
# X86
存储器分类
RAM random access memory 随即访问存储器 易失
ROM read only memory 只读存储器 永久
总线分类
地址总线 数据总线 控制总线

8088/8086内部机制
1. 流水线技术
根据流水线技术，即读指令与执行指令同时执行
将CPU分成两个单元，分别是: 执行单元(EU)和总线接口单元(BIU)
2. 寄存器
通用寄存器 16位
* AX 累加器
* BX 基址寄存器
* CX 循环操作的计数器
* DX I/O指向数据
8 位
* AH AL BH BL CH CL DH DL
指针寄存器 16
* SP 堆栈
* BP 基址
索引寄存器
* SI 源索引
* DI 目标索引
段寄存器
* CS 代码段
* DS 数据段
* SS 堆栈段
* ES 附加段
指令寄存器
* IP 指令指针
标志寄存器
* FR 标志位寄存器

汇编语言编程
MOV 目标地址 源地址/值
1. 值不能直接装入段寄存器，想要将值装入段寄存器，必须通过非段寄存器
2. 小于FFH的值移动到16位寄存器，其余位默认为0
3. 过大的值移动到寄存器会导致出错

ADD 目标地址 源地址/值
通用寄存器常用于算术运算

汇编程序至少由3部分组成
代码段，数据段，堆栈段
段是一块存储区域 由于8088/86的引脚限制 每个段只有64KB大小

逻辑地址和物理地址
物理地址: 内存实际地址(00000H)~(FFFFFH)
偏移地址: 64KB段中某位置(0000H)~(FFFFH)
逻辑地址: 段值 : 偏移地址

代码段
指令 = 操作码 + 运算数
指令逻辑地址 = CS : IP (代码段 : 指令指针)
指令物理地址 = CS << 1(16进制位，4bit) + IP
