---
title: IM
sticky: 490
---

制作IM时遇到的问题以及解决方案
<!-- more -->

# IM

## 资源

* [通讯协议设计](http://www.52im.net/thread-283-1-1.html)
* [在线状态的维护方式](http://www.52im.net/thread-715-1-1.html)
* [群消息存储方式](http://www.52im.net/thread-1616-1-1.html)
* [知名NOSQL优劣](http://www.52im.net/thread-2759-1-1.html)
* [](http://www.52im.net/forum.php?mod=viewthread&tid=3281)

## IM特性

* 客户端在进行请求操作后就掉线了，注册，登陆，同步，查询，管理(加/删好友)，发消息等功能会做出什么措施

  1. 客户端在发送完注册请求后断网掉线，客户端和服务端应该怎么办？

  客户端主动与服务端重联，并显示给用户注册失败，保留用户刚才填写的注册内容

  服务端因第一次建连的套接字断所以作废(关闭套接字)，并将刚才生成的用户ID和接收到的用户信息作废，等待新的连接

  涉及底层问题：TCP掉线会不会自动重连？发送TCP包多长时间收不到为掉线？

  2. ，客户端和服务端应该怎么办？
